!function(a){var b=0,c={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,caps_lock:20,escape:27,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:124,number:[48,49,50,51,52,53,54,55,56,57],equalSign:187,comma:188,dash:189,pause_break:19,page_up:33,page_down:34,end:35,home:36,left_arrow:37,up_arrow:38,right_arrow:39,down_arrow:40,insert:45,del:46,numpad:[96,97,98,99,100,101,102,103,104,105],isNumber:function(a){if("number"!=typeof a)return!1;var b=a>=96&&105>=a,c=a>=48&&57>=a;return b||c}},d={keycodes:c,escape:function(a){var b=/[&<>"']/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return null==a?"":(""+a).replace(b,function(a){return c[a]})},unescape:function(a){var b=/(&amp;|&lt;|&gt;|&quot;|&#x27;)/g,c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'"};return null==a?"":(""+a).replace(b,function(a){return c[a]})},toJSON:function(a){return a?JSON.stringify(a):""},fromJSON:function(a){return a?JSON.parse(a):null},guid:function(){return"eba-ui-"+ ++b},getById:function(a,b){return d.get("#"+a,b)},get:function(b,c){var d=a(b,c);return d.data("model")},parseUi:function(a){this.web.parseUi(a)}};window.ebaui=d,a(function(){d.parseUi();var b=function(a){var b=window[a];b&&"function"==typeof b&&b()};b("initPage"),a(window).on("load",function(){b("loadPage")}),a(window).on("unload",function(){b("unloadPage")})})}(jQuery),function(a,b){var c={urlRoot:"",formControls:[],controls:[],templateString:"",templateUrl:"",_loadRemoteTemplates:function(c,d){var e=this,f=e.templateUrl;if(!e.urlRoot)for(var g=/(.*)\/(ebaui\.js|ebaui(-\d\.\d\.\d)?\.js|ebaui(-\d\.\d\.\d)?\.min\.js)(.*)$/,h=document.getElementsByTagName("script"),i=0,j=h.length;j>i;i++){var k=h[i].src;if(g.test(k)){var l=g.exec(k),m=l[1];"/"!=m.substring(m.length-1,m.length)&&(m+="/"),e.urlRoot=m;break}}e.templateUrl||(f=e.urlRoot+"ebaui.templates.html"),f?a.ajax({type:"GET",dataType:"html",url:f,async:!1,success:function(a){c(a)}}):(b.log("loadTemplates error"),"function"==typeof d&&d())},_loadLocalTemplates:function(a){a(this.templateString)},loadTemplates:function(a,b){var c=this;c.templateString?c._loadLocalTemplates(a,b):c._loadRemoteTemplates(a,b)},registerControl:function(a){a&&this.controls.push(a.toLocaleLowerCase())},registerFormControl:function(a){a&&(a=a.toLocaleLowerCase(),this.controls.push(a),this.formControls.push(a))},parseControls:function(b){for(var c=this.controls,d=0,e=c.length;e>d;d++){var f=c[d],g='[data-role="'+f+'"]',h=a(g,b);h.size()>0&&h[f]&&h[f]()}},parseUi:function(b){var c=this;c.parser,b=b||document,c.loadTemplates(function(d){var e="#ebaui-templates",f=a(e);0==f.size()&&(f=a('<div id="ebaui-templates" style="display:none;"></div>').appendTo(document.body)),f.html(d),c.parseControls(b)})},support:{},validationRules:{}};b.web=c,b.mask=function(b,c,d,e){return c=c?c:"",a(b,e).mask(c,d)},b.unmask=function(b,c){return a(b,c).unmask()},b.isMasked=function(b,c){return a(b,c).isMasked()},b.alert=function(a){vex.dialog.alert({title:"提示",iconCls:"icon-warning-sign",className:"vex-theme-default",message:a})},b.confirm=function(b){var c=a.extend({},{title:"确认",iconCls:"icon-question-sign",className:"vex-theme-default",buttons:[vex.dialog.buttons.NO,vex.dialog.buttons.YES]},b);vex.dialog.confirm(c)},b.prompt=function(b){b=a.extend({},{title:"提示",className:"vex-theme-default",buttons:[vex.dialog.buttons.NO,vex.dialog.buttons.YES]},b),vex.dialog.prompt(b)},b.win=function(b){if(b&&b.url&&!b.content){var c="",d=b.url?!0:!1;c=d?"":a(b.content).html();var e="",f='<div class="vex-dialog-form" style="height:100%;"><div class="vex-dialog-title"><i class="{0}"></i>{1}</div>{2}<div class="vex-close"></div></div>'.replace("{0}",b.iconCls).replace("{1}",b.title);d?(e='<iframe src="{0}" style="width:100%;" frameborder="0" scrolling="no"></iframe>'.replace("{0}",b.url),b.content=f.replace("{2}",e)):(e=a(b.content).html(),b.content=f.replace("{2}",e));var g={title:"",content:"",width:800,height:600,className:"vex-theme-default",showCloseButton:!0,overlayClosesOnClick:!1,beforeclose:a.noop,afterclose:a.noop};b=a.extend(g,b);var h=vex.open(b),i=h.parent();h.css({border:"1px #eee solid",width:b.width,height:b.height}),i.css({"padding-top":"50px","padding-bottom":"0"}),d&&(titleH=a(".vex-dialog-title",h).outerHeight(),a("iframe",h).css("height",h.height()-titleH))}},b.ajax=jQuery.ajax,b.httpGet=jQuery.get,b.httpPost=jQuery.post}(jQuery,ebaui),function(a,b){b.placeholder="placeholder"in document.createElement("input")}(jQuery,ebaui.web.support);